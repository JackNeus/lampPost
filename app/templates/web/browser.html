{% extends "base.html" %}

<!-- SCRIPTS -->

{% block scripts %}
<script src="/static/js/displaySearches.js?v=44"></script>
<script src="/static/js/displayEvent.js?v=5"></script>
<script src="/static/js/createEventHtml.js?v=4"></script>
<script src="/static/js/app.js?v=13"></script>
<script>
setBaseUrl("{{ config.BASE_URL }}");
</script>

{% if data %}
<script>
setData(JSON.parse('{{ data | tojson | safe}}'));
$("#global-debug-msg").text("Page initialized with mock data. Search box will return actual data.");
</script>
{% endif %}

{% endblock %}

<!-- MAIN CONTENT -->
{% block content %}
<div class="container-fluid">
  	<div class="flex-container-row" id="bigRow">
  	
	   <div class="flex-container-col" id = "leftCol">
   		<form onsubmit="return false;">
   			<div class="d-flex flex-row align-items-start">
				<div class="form-group" id="searchBox">
			    		<input id="search-box" class="form-control" 
			    		placeholder="Search for events here!" value=""></input>
				</div>
			
				<select class="ml-auto align-self-stretch" name="sort" id="searchSort">
					<option value="Date">Sort By Date</option>
					<option value="Popularity">Sort By Popularity</option>
				</select>
			</div>
			
			<div class="d-flex flex-row align-items-start justify-content-end filters">
			  <div class="p-2 mr-auto datetime">
				  <label for="datepicker">Search from date: </label>
				  <input type="text" id="datepicker" 
					   class="form-control" name="datepicker">
			  </div>
			  <div class="filter-button btn"  id="filter-btn" title="Filter">
				  <i class="fas fa-filter"></i>
			  </div>
			 </div>
		
		</form>
		
			
		<!-- Fills in with "search" results from events.json -->
		<div class="flex-item-scroll" id="searches"></div>
		
	  	</div>
		
	 	<div class="flex-container-col" id = "rightCol"> 
	 		<div class = "event-view" id = "event-view"> 
		   		<p class="event-result-title" id = "eventTitle"></p>
		   		<div class = "event-result-info">
		   			<div id="eventPhoto"> </div>
		   			<p id="eventLocation"> </p>
		   			<p id="eventDescription"> </p>
		   			<p id="eventHost"> </p>
		   			<p id="eventTime"> </p>
		   			<p id="eventLikes"> </p>
		   		</div>
			</div>
		</div>	
	</div>
</div>
{% endblock %}

<!-- SPLASH PAGE -->

{% block splashScreen %}
<div class="splashScreen" id="splashScreen">
	<div class="headerBox">
		<div class="loginBox">
			<h1 class="lamppostTitle">lampPost - search for events</h1>
			<a class="homeLink btn btn-primary btn-lg" href="/login">Login</a>
			<p></p>
			<a class="homeLink btn btn-primary btn-lg" href="#">Continue as Guest</a>
		</div>
	</div>
</div>
{% endblock %}


<!-- JINJA VARIABLES -->
{% block user_data %}
<meta id="userData" data-uid="{{current_user.uid}}" data-netid="{{current_user.netid}}"
	data-favorites="{{current_user.favorites}}">
{% endblock %}
